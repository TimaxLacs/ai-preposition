# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### 1. –ó–∞–ø—É—Å–∫ PostgreSQL –∏ Redis

**–í–∞—Ä–∏–∞–Ω—Ç A: Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```bash
docker-compose up -d postgres redis
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞**
- –°–º. [docs/POSTGRESQL_SETUP.md](docs/POSTGRESQL_SETUP.md)

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å .env
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env:
# - –ó–∞–ø–æ–ª–Ω–∏—Ç—å Telegram API –∫–ª—é—á–∏
# - –ó–∞–ø–æ–ª–Ω–∏—Ç—å DATABASE_URL (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker)
# - –£–∫–∞–∑–∞—Ç—å TELEGRAM_OUTPUT_CHANNEL
```

### 3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

```bash
# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# –í–ê–ñ–ù–û: –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Å—Ç–∞—Ä—ã–π SQLite —Ñ–∞–π–ª (ai_preposition.db), —É–¥–∞–ª–∏—Ç–µ –µ–≥–æ:
# rm ai_preposition.db

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –≤ PostgreSQL)
alembic upgrade head
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config/sources.yaml`:
```yaml
telegram:
  - channel: "@your_test_channel"  # –í–∞—à —Ç–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª
    name: "–¢–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª"
    filters: ["tech_news"]
    enabled: true
```

## –ó–∞–ø—É—Å–∫

```bash
python src/main.py
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Redis
- –ó–∞–ø—É—Å–∫ Telegram –∫–ª–∏–µ–Ω—Ç–∞
- `Monitoring Telegram channels: [...]`

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ—Å—Ç–∞

**AI —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ –∑–∞–≥–ª—É—à–∫–∏ (Mock)**, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:
- –°–ª–æ–≤–∞ –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ñ–∏–ª—å—Ç—Ä–∞ ("AI", "DevOps", "Web", –∏ —Ç.–¥.)
- –°–ª–æ–≤–∞ "python" –∏–ª–∏ "—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ù–∞–ø–∏—à–∏—Ç–µ –ø–æ—Å—Ç –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–º—ã–π –∫–∞–Ω–∞–ª:
   > "–ò–∑—É—á–∞—é Python –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ AI. –û—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ!"

2. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
   - `üì® –ù–æ–≤—ã–π –ø–æ—Å—Ç –∏–∑ ...`
   - `Analyzing post ...`
   - `‚úÖ Post matched filter 'tech_news'`
   - `Message forwarded to ...`

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã—Ö–æ–¥–Ω–æ–π –∫–∞–Ω–∞–ª - —Ç—É–¥–∞ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ—Å–ª–∞—Ç—å—Å—è –ø–æ—Å—Ç —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º.

### 2. –¢–µ—Å—Ç API

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: **http://localhost:8000/docs**

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ:**
- `GET /api/v1/sources/` - —Å–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- `GET /api/v1/filters/` - —Å–ø–∏—Å–æ–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤
- `POST /api/v1/filters/` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∏–ª—å—Ç—Ä
- `GET /health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL
psql -U ai_user -d ai_preposition -h localhost

# –í psql:
\dt                    # –°–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü
SELECT * FROM filters; # –ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∏–ª—å—Ç—Ä–æ–≤
SELECT * FROM sources; # –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
SELECT * FROM processed_posts; # –ò—Å—Ç–æ—Ä–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
\q                     # –í—ã—Ö–æ–¥
```

## Troubleshooting

### –û—à–∏–±–∫–∞: "DATABASE_URL environment variable is required"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `.env` —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç `DATABASE_URL`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ñ–æ—Ä–º–∞—Ç: `postgresql+asyncpg://...`

### –û—à–∏–±–∫–∞: "connection refused" –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏—è—Ö
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω: `docker ps` –∏–ª–∏ `sudo systemctl status postgresql`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–æ—Ä—Ç 5432 –æ—Ç–∫—Ä—ã—Ç

### –û—à–∏–±–∫–∞: "password authentication failed"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å –≤ `.env`
- –î–ª—è Docker: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ai_password` (–∏–∑ docker-compose.yml)

### Telegram –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API ID –∏ Hash –≤ `.env`
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ SMS –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

### –ü–æ—Å—Ç—ã –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–∞–Ω–∞–ª —É–∫–∞–∑–∞–Ω –≤ `config/sources.yaml`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤ —Ç–µ–∫—Å—Ç–µ –ø–æ—Å—Ç–∞ –µ—Å—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä-—Å–ª–æ–≤–∞ ("python", "—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏")
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

